//SPDX-License-Identifier:MIT

pragma solidity 0.8.20;

import {Test,console}from "forge-std/Test.sol";
import {DeployMoodNFT}from"../../script/DeployMoodNFT.s.sol";

contract DeployMoodNFTTest is Test{
DeployMoodNFT deployer;
 function setUp()public{
   deployer=new DeployMoodNFT();

 }
 function testConvertSvgToUri()public{

    string memory expectedUri="data:application/json;base64,eyJuYW1lIjoiTW9vZE5mdCIsICJkZXNjcmlwdGlvbjpBbiBuZnQgdGhhdCByZWZsZWN0cyB0aGUgb3duZXJzIG1vb2QuIiwgImF0dHJpYnV0ZXMiOlt7InRyYWl0X3R5cGUiOiJtb29kaW5lcyIsInZhbHVlIjoxMDB9XSwgImltYWdlIjoiZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUp1WVcxbElqb2lUVzl2WkNCT1JsUWlMQ0FpWkdWelkzSnBjSFJwYjI0aU9pSkJiaUJPUmxRZ2RHaGhkQ0J5Wldac1pXTjBjeUIwYUdVZ2JXOXZaQ0J2WmlCMGFHVWdiM2R1WlhJc0lERXdNQ1VnYjI0Z1EyaGhhVzRoSWl3Z0ltRjBkSEpwWW5WMFpYTWlPaUJiZXlKMGNtRnBkRjkwZVhCbElqb2dJbTF2YjJScGJtVnpjeUlzSUNKMllXeDFaU0k2SURFd01IMWRMQ0FpYVcxaFoyVWlPaUprWVhSaE9tbHRZV2RsTDNOMlp5dDRiV3c3WW1GelpUWTBMRkJFT1RSaVYzZG5aRzFXZVdNeWJIWmlhakJwVFZNMGQwbHBRbnBrUjBaMVdrZEdjMkl5Tld4UVUwcDFZbmxKTDFCbmJ6aGpNMXB1U1Voa2NGcElVbTlRVTBsNFRVUkpNR05JWjJsSlIyaHNZVmRrYjJSRU1HbE5WRUY1VGtoQ05FbHBRakpoVjFZelVXMDVORkJUU1hkSlJFRm5UVlJCZVU1RFFYaE5SRWt3U1dsQ05HSlhlSFZqZWpCcFlVaFNNR05FYjNaTU0yUXpaSGsxTTAxNU5YWmpiV04yVFdwQmQwMURPWHBrYldOcFVHZHZaMGxFZUhkWldGSnZTVWRhY0dKSGR6bEphVTE2VFhwTmFVbEhVVGxKYXpBeFRWUkpaMDVxVWtSTmFsa3dUR3BaWjA1cVVXZE9hbEZuVFdwWk1FeHFXV2RPYWxGblRsUkZlV042U1hkTlF6UXlTVVJSTUU5RFFUQk9SR2RuVGtSUk5FbEVVVEJQUXpCNVRVUkJkVTVwUVRCT1JHZDBUa1JSTkZWNll6RlBVelF3U1VSWk1FbEVWWGhOYVVFeVRraHdkRTFEUVRSTmFrSnFURlJKZDA1VE5EQkpSRUYwVFhwamVVeFVSVEpPYVRReVRGUk5NMDFwTUhwT2VrcDZUVlJaTWt4cVdYUk5lbU41U1VSTk0wMXBNSHBPZWtsblRYcGplVWxFUlRKT2FUUXlTVVJOTTAxcFFYcE9la2wwVFZSWk1reHFXV2ROZW1ONVRGUk5NMDFwUVhwT2VrbzJTV2s0SzBOcFFXZFFTRUpvWkVkbloxcHRiSE5pUkRCcFNUQlZNbEpVV2taT2FVbG5Xa1F3YVZSVVZYaE5hVUY0VGtSQ2FreFVTWGRPVXpRd1NVUkJkRTE2WTNsSlJFVXlUbWswTWt4VVRUTk5hVUY2VG5wS2VrMVVXVEpNYWxsblRYcGplVWxFVFROTmFVRjZUbnBKWjAxNlkzbE1WRVV5VG1rME1rbEVUVE5OYVRCNlRucEpkRTFVV1RKTWFsbDBUWHBqZVV4VVRUTk5hVEI2VG5wS05sUlVTVFJQUTBFd1RXcEdhRTVFWjNWTlJFVm5Ua1JuZFUxRVJXZE5RMEYzU1VSRlowOVVXV2ROUTBFd1QwTTBkMDFUUVRCUFF6UjNUVk5CZDBsRVFXZE5VekExVG1sQmQyVnRNSHBPZWxsblRXcGplV0ZETURCUFF6UjRXWGt3TUV4cVNXZE5RekF6VEdwbmRFMTVOSGxNVkdkMVRWTXdNMHhxVWtST2FrRXdTVVJaZWs1cE5IaEpSRlV5VFdrME1VbEVWVFZPZVVFeFRWUkpaMDVVYXpOamVUQTFUV2swZUVsRVRUVk1ha1YwVDFSVmRVOURRVFJQUXpReVdYa3dkVTE1UVRCTWFrbDBUWGswTlVsRVkzVk9RekEwVEdwRlowNTVOREJUUkUweVRVZEZORWxFWjJkTlEwRjNTVVJGZEU5RE1EUk1hbEpxVGtNME1FeFVaekJNYWsxblRucFJkVTVUTUhoT1ZFVjFUbWxCZUU1cVFYUk5WRlY0VEdwYWVrMVVWVEZNYWxsblRtcGpkVTE1UVhoT2FrRm5UVlJWZUV4cVdtaFBRMEUwU1VSQlowMURRWGhNVkdkblQwTTBNR1Z0TUhsT1F6QjVUV3BTYUU1RVozVk5SRVZuVGtSbmRVMUVSV2ROUTBGM1NVUkZaMDFETURWT2FVRXdUME0wZDAxVFFUQlBRelIzVFZOQmQwbEVRV2ROVTBGM1NVUnJNbVZwU1haUVoyOW5TVVI0ZDFsWVVtOUpSMXB3WWtkM09VbHBUWHBOZWsxcFNVZFJPVWxyTUhsUFJHZG5Ua1JKZUZsVVVUUkpSRkUwU1VSQlowMVRRWGRKUkdzeVNVUkJaMDVFWjJkT1JHZG5UVU5CZUVsRVFYUlBWRmxuVFVod2RFMXFTVEJKUkVWNFRXMU5kRTlFVlhWT1UwRjNURlJGTVU1VE5ESkpSRmt6VEdwTmRFMVVXWGRKUkVVeFRWTTBNbGxVWjJkUFEwRjNTVVJCWjAxRFFUUkpSR2QxVGtkbk1FOUROSGhaZWxGMVRXbEJkMGxFWTNWUFF6QjZUR3BKWjA5RE5IaE1WR04xVGtOQmVreHFZM1JPUkd0MVRsTkJNRTVUTkhwTVZHYzBUR3BaWjA5VVZYVlBRekEwVDBNME1tTjZhM2xKUkUwMVRHcEZaMDlVVlhWUFEwRTBUME0wTWxsNU5IcEpSRkYxVFdsQmVreHFhMmRPZVRRd1NVUm5kVTFUUVROTWFsSkpUbXBaTUZsVVoyZFBRMEYzU1VSQlowMURRVFJNVkdkMVRrVk5NazVxWTNWT2FVRXlUVVJCZFUxNVFURlBWR04xVGxOQk1VMTZUV2RPVkVWNVNVUlZlazB6Y0hSTlZFazBURlJGZUUxdFJUQlBRMEV3VDBOQmQwbEVSV2ROUTBFMVRtbEJkMGxFVVRSSlJGRTBTVVJCWjAxVFFYZE1WR3N5U1VSQ05rbHBPQ3REYW5kMll6TmFibEJuYnowaWZRPT0iICB9";


    string memory svg='<svg viewBox="0 0 200 200" width="400" height="400" xmlns="http://www.w3.org/2000/svg">\
                      <circle cx="100" cy="100" fill="yellow" r="78" stroke="black" stroke-width="3"/>\
                      <g class="eyes">\
                          <circle cx="61" cy="82" r="12"/>\
                          <circle cx="127" cy="82" r="12"/>\
                      </g>\
                      <path d="m136.81 116.53c.69 26.17-64.11 42-81.52-.73" style="fill:none; stroke: black; stroke-width: 3;"/>\
                  </svg>';
    string memory createdSvg=deployer.svgToImageURI(svg);
    assert(keccak256(abi.encodePacked(expectedUri))==keccak256(abi.encodePacked(createdSvg)));
    console.log(createdSvg);

}

}
